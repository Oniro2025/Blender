import bpy

# پاک‌سازی صحنه
bpy.ops.object.select_all(action='SELECT')
bpy.ops.object.delete(use_global=False)

# تابع ساخت قطعه استوانه‌ای
def create_part(name, location, radius=0.2, depth=0.5, rotation=(0, 0, 0)):
    bpy.ops.mesh.primitive_cylinder_add(
        radius=radius,
        depth=depth,
        location=location,
        rotation=rotation
    )
    part = bpy.context.object
    part.name = name
    return part

# بدن اصلی و زره سینه
torso = create_part("Torso", (0, 0, 1.4), 0.25, 0.8)
chest_plate = create_part("ChestPlate", (0, 0, 1.5), 0.27, 0.4)
belly_armor = create_part("BellyArmor", (0, 0, 1.2), 0.26, 0.4)

# سر و کلاه‌خود
bpy.ops.mesh.primitive_uv_sphere_add(radius=0.18, location=(0, 0, 1.9))
head = bpy.context.object
head.name = "Head"

bpy.ops.mesh.primitive_uv_sphere_add(radius=0.2, location=(0, 0, 1.93))
helmet = bpy.context.object
helmet.name = "Helmet"
helmet.scale[2] = 1.2

bpy.ops.mesh.primitive_cone_add(radius1=0.03, depth=0.4, location=(-0.12, 0, 2.1))
horn1 = bpy.context.object
bpy.ops.mesh.primitive_cone_add(radius1=0.03, depth=0.4, location=(0.12, 0, 2.1))
horn2 = bpy.context.object

# کمربند
belt = create_part("Belt", (0, 0, 1.0), 0.28, 0.1)

# دست‌ها و زره شانه‌ها
left_arm = create_part("LeftArm", (-0.45, 0, 1.4), 0.08, 0.6, rotation=(0, 1.57, 0))
right_arm = create_part("RightArm", (0.45, 0, 1.4), 0.08, 0.6, rotation=(0, 1.57, 0))

left_shoulder = create_part("LeftShoulder", (-0.45, 0, 1.7), 0.12, 0.2)
right_shoulder = create_part("RightShoulder", (0.45, 0, 1.7), 0.12, 0.2)

# پاها و زره زانو
left_leg = create_part("LeftLeg", (-0.15, 0, 0.6), 0.1, 0.9)
right_leg = create_part("RightLeg", (0.15, 0, 0.6), 0.1, 0.9)

left_knee = create_part("LeftKnee", (-0.15, 0, 0.2), 0.12, 0.15)
right_knee = create_part("RightKnee", (0.15, 0, 0.2), 0.12, 0.15)

# شمشیر
bpy.ops.mesh.primitive_cube_add(size=0.05, location=(0, -0.25, 1.0))
sword_handle = bpy.context.object
sword_handle.name = "Sword_Handle"
sword_handle.scale[2] = 4

bpy.ops.mesh.primitive_cube_add(size=0.05, location=(0, -0.25, 1.2))
guard = bpy.context.object
guard.scale[0] = 3
guard.name = "Sword_Guard"

print("✅ Knight armor created with full detail!")
